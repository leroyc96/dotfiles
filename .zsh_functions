function up() { local x='';for i in $(seq ${1:-1});do x="$x../"; done;cd $x; }

function gbc ()
{
	if test "$#" -ne 1; then
                echo "Usage: gcb <branch_name>"
                echo "  to create fresh branch <branch_name> from master."
                return 1;
        fi

	git checkout main && 
	git pull &&
	git checkout -b $1
}

function cmt() { git commit -m "$1" && git push; }

function squash()
{
	if test "$#" -ne 1; then
		echo "Please indicate number of commits to squash."
		return 1
	fi

	git rebase -i HEAD~$1
}

function gbd()
{
	git branch | grep "$1"
	echo "Deleting above branches. Confirm?"
	select yn in "Yes" "No"; do
		case $yn in
			Yes )
				git branch | grep "$1" | xargs git branch -D
				break;;
			No ) return 0;;
		esac
	done
}

function based()
{
	echo "$1" | base64 -D
}

function ga() { git add $1; git diff --cached --name-only; }

function bstern() { brexctl pre stern $1 | cut -d ' ' -f3- | jq -R "fromjson?"; }

